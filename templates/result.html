<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hasil Prediksi</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
      }

      body {
        font-family: "Roboto Slab", serif;
        background-color: #ffffff;
      }

      h1,
      h4 {
        font-family: "Roboto Slab", serif;
        color: #000;
        font-weight: 700;
      }

      .judul-prediksi {
        font-size: 28px;
      }

      .judul-saham {
        font-size: 24px;
      }

      p {
        font-size: 16px;
        color: #000;
      }

      .text-success {
        color: #008000 !important;
        font-weight: 600;
      }

      .text-danger {
        color: #8b0000 !important;
        font-weight: 600;
      }

      .footer {
        background-color: #000;
        color: #fff;
        padding: 15px 0;
        text-align: center;
      }

      footer h5,
      footer p {
        margin: 0;
        color: #fff;
        font-weight: 400;
      }

      .chart-container {
        overflow-x: auto;
      }

      .content {
        flex: 1;
      }
    </style>
  </head>
  <body>
    <div class="container mt-3 content">
      <h1 class="text-center mb-3 judul-prediksi">Hasil Prediksi untuk</h1>
      <h1 class="text-center mb-4 judul-saham">{{ stock_name }}</h1>

      <div class="card shadow p-4">
        <p>
          <strong>Harga Close:</strong> {{ close_price | format_price }}
          <span class="text-muted"
            >(Diperbarui otomatis setiap pukul 16.30 WIB)</span
          >
        </p>

        <p>
          <strong>Prediksi Harga Saham Berikutnya:</strong>
          <span
            class="{% if prediction > close_price %}text-success{% else %}text-danger{% endif %}"
          >
            {{ prediction | format_price }}
          </span>
        </p>

        <p>
          <strong>Presentase Kenaikan/Penurunan:</strong>
          <span
            class="{% if percentage_change|float > 0 %}text-success{% else %}text-danger{% endif %}"
          >
            {{ percentage_change }}%
            <i
              class="{% if percentage_change|float > 0 %}bi bi-arrow-up{% else %}bi bi-arrow-down{% endif %}"
            ></i>
          </span>
        </p>

        <p><strong>Akurasi Prediksi (MAPE):</strong> {{ accuracy }}%</p>
        <p><strong>Prediksi berlaku untuk:</strong> {{ prediction_date }}</p>

        <div class="mt-4">
          <h4>Grafik Harga Saham</h4>
          <div class="chart-container">{{ graph_html | safe }}</div>
        </div>
      </div>

      <div class="text-center mt-4 mb-5">
        <a href="/" class="btn btn-primary">Kembali ke Halaman Utama</a>
        <a href="/history/{{ stock_symbol }}" class="btn btn-success">Riwayat Prediksi</a>
      </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
